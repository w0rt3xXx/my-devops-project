# Шаг 1: Указываем базовый образ, с которого начинаем.
# Мы берем официальный образ Python версии 3.9 в "slim" варианте (он меньше по размеру).
FROM python:3.9-slim

# Шаг 2: Устанавливаем рабочую директорию внутри контейнера.
# Все последующие команды будут выполняться в этой папке.
WORKDIR /app

# Шаг 3: Копируем файл с зависимостями в контейнер.
COPY requirements.txt .

# Шаг 4: Устанавливаем зависимости, перечисленные в requirements.txt.
RUN pip install -r requirements.txt

# Шаг 5: Копируем все остальные файлы проекта (наше приложение app.py) в контейнер.
COPY . .

# Шаг 6: Сообщаем Docker, что наше приложение будет работать на порту 5000.
EXPOSE 5000

# Шаг 7: Указываем команду, которая будет запускаться при старте контейнера.
# Это эквивалентно запуску "python app.py" в терминале.
CMD ["python", "app.py"]